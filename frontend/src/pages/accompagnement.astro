---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Main dans la Main | Maison des Sables">
	
	<nav class="fixed top-0 w-full z-50 px-6 md:px-12 py-8 flex justify-between items-center mix-blend-difference text-white transition-all duration-500">
		<a href="/" class="font-serif text-xl tracking-wider font-semibold hover:text-or transition-colors">‚Üê Retour</a>
		<a href="/" class="hidden md:block font-serif text-2xl tracking-wider font-bold">Maison des Sables</a>
		<a href="#contact" class="border border-white/30 px-6 py-2 text-xs font-sans uppercase tracking-widest rounded-std hover:bg-white hover:text-charbon transition-all">Contact</a>
	</nav>

	<header class="relative h-[70vh] bg-sable overflow-hidden flex items-center justify-center">
		
		<img src="/main_dans_la_main.png" alt="Logo Main dans la Main" class="absolute inset-0 w-full h-full object-contain opacity-5 animate-slow-zoom p-20 invert"/>
		
		<div class="absolute inset-0 bg-gradient-to-b from-sable/0 via-sable/50 to-sable"></div>
		
		<div class="relative z-10 text-center px-4 mt-20 max-w-4xl">
			<span class="inline-block py-1 px-3 border border-charbon/10 rounded-full text-[10px] font-sans tracking-[0.2em] uppercase text-charbon/60 mb-6 backdrop-blur-md">Bienveillance & Lien Social</span>
			<h1 class="font-serif text-5xl md:text-8xl text-charbon mb-8 leading-tight">Main dans<br/><span class="italic text-or">la Main.</span></h1>
			<p class="text-charbon/70 max-w-xl mx-auto font-sans text-lg leading-relaxed animate-fade-in-up delay-200">
				Parce que nos a√Æn√©s m√©ritent une attention particuli√®re. Nous offrons une pr√©sence rassurante, discr√®te et chaleureuse pour faciliter le quotidien.
			</p>
		</div>
	</header>

	<section class="bg-sable text-charbon py-32 px-4 md:px-12">
		<div class="max-w-[1600px] mx-auto">
			
			<div class="text-center mb-20">
				<h3 class="font-serif text-3xl md:text-5xl mb-6">Une Pr√©sence de Confiance</h3>
				<p class="font-sans text-charbon/60 max-w-2xl mx-auto">
					Plus qu'un service, nous tissons un lien. Passez la souris sur nos piliers d'accompagnement pour d√©couvrir comment nous pouvons aider.
				</p>
			</div>

			<div class="flex flex-col lg:flex-row h-[800px] lg:h-[600px] gap-4">
				
				<div class="group relative flex-1 lg:hover:flex-[3] transition-all duration-700 ease-[cubic-bezier(0.25,1,0.5,1)] overflow-hidden rounded-[2rem] cursor-pointer shadow-lg bg-charbon">
					<img src="/main_dans_la_main.png" class="absolute inset-0 w-full h-full object-contain opacity-10 group-hover:opacity-30 transition-all duration-700 p-12 scale-110 group-hover:scale-100" alt="Compagnie"/>
					
					<div class="absolute inset-0 bg-gradient-to-t from-charbon via-transparent to-transparent"></div>
					
					<div class="absolute inset-0 p-8 flex flex-col justify-between items-center lg:items-start text-sable relative z-10">
						<div class="w-12 h-12 rounded-full border border-white/20 flex items-center justify-center text-xl mb-4 bg-white/5 backdrop-blur-sm">‚òïÔ∏è</div>
						
						<div class="text-center lg:text-left w-full">
							<h4 class="font-serif text-2xl lg:text-3xl mb-4 whitespace-nowrap transform lg:origin-bottom-left lg:-rotate-90 lg:group-hover:rotate-0 lg:translate-y-0 transition-all duration-500">Compagnie</h4>
							
							<div class="h-0 opacity-0 group-hover:h-auto group-hover:opacity-100 overflow-hidden transition-all duration-700 delay-100">
								<p class="font-sans text-sm leading-relaxed mb-6 max-w-sm text-sable/80">
									Rompre l'isolement par des moments simples et joyeux : lecture, jeux de soci√©t√©, promenades au bord de l'eau ou simplement partager un th√©.
								</p>
								<button class="select-service-btn text-xs font-bold uppercase tracking-widest border-b border-or pb-1 hover:text-or transition-colors" data-service="Compagnie">
									S√©lectionner ce besoin
								</button>
							</div>
						</div>
					</div>
				</div>

				<div class="group relative flex-1 lg:hover:flex-[3] transition-all duration-700 ease-[cubic-bezier(0.25,1,0.5,1)] overflow-hidden rounded-[2rem] cursor-pointer shadow-lg bg-charbon">
					<img src="/main_dans_la_main.png" class="absolute inset-0 w-full h-full object-contain opacity-10 group-hover:opacity-30 transition-all duration-700 p-12 scale-110 group-hover:scale-100" alt="Quotidien"/>
					<div class="absolute inset-0 bg-gradient-to-t from-charbon via-transparent to-transparent"></div>
					
					<div class="absolute inset-0 p-8 flex flex-col justify-between items-center lg:items-start text-sable relative z-10">
						<div class="w-12 h-12 rounded-full border border-white/20 flex items-center justify-center text-xl mb-4 bg-white/5 backdrop-blur-sm">üõí</div>
						
						<div class="text-center lg:text-left w-full">
							<h4 class="font-serif text-2xl lg:text-3xl mb-4 whitespace-nowrap transform lg:origin-bottom-left lg:-rotate-90 lg:group-hover:rotate-0 transition-all duration-500">Quotidien</h4>
							
							<div class="h-0 opacity-0 group-hover:h-auto group-hover:opacity-100 overflow-hidden transition-all duration-700 delay-100">
								<p class="font-sans text-sm leading-relaxed mb-6 max-w-sm text-sable/80">
									Faciliter la vie de tous les jours : petites courses, passage √† la pharmacie, pr√©paration de repas l√©gers, aide au rangement.
								</p>
								<button class="select-service-btn text-xs font-bold uppercase tracking-widest border-b border-or pb-1 hover:text-or transition-colors" data-service="Aide Quotidien">
									S√©lectionner ce besoin
								</button>
							</div>
						</div>
					</div>
				</div>

				<div class="group relative flex-1 lg:hover:flex-[3] transition-all duration-700 ease-[cubic-bezier(0.25,1,0.5,1)] overflow-hidden rounded-[2rem] cursor-pointer shadow-lg bg-charbon">
					<img src="/main_dans_la_main.png" class="absolute inset-0 w-full h-full object-contain opacity-10 group-hover:opacity-30 transition-all duration-700 p-12 scale-110 group-hover:scale-100" alt="Administratif"/>
					<div class="absolute inset-0 bg-gradient-to-t from-charbon via-transparent to-transparent"></div>
					
					<div class="absolute inset-0 p-8 flex flex-col justify-between items-center lg:items-start text-sable relative z-10">
						<div class="w-12 h-12 rounded-full border border-white/20 flex items-center justify-center text-xl mb-4 bg-white/5 backdrop-blur-sm">üìù</div>
						
						<div class="text-center lg:text-left w-full">
							<h4 class="font-serif text-2xl lg:text-3xl mb-4 whitespace-nowrap transform lg:origin-bottom-left lg:-rotate-90 lg:group-hover:rotate-0 transition-all duration-500">Administratif</h4>
							
							<div class="h-0 opacity-0 group-hover:h-auto group-hover:opacity-100 overflow-hidden transition-all duration-700 delay-100">
								<p class="font-sans text-sm leading-relaxed mb-6 max-w-sm text-sable/80">
									S√©r√©nit√© papier : aide au tri du courrier, prise de rendez-vous m√©dicaux, classement de documents, d√©marches en ligne.
								</p>
								<button class="select-service-btn text-xs font-bold uppercase tracking-widest border-b border-or pb-1 hover:text-or transition-colors" data-service="Aide Administrative">
									S√©lectionner ce besoin
								</button>
							</div>
						</div>
					</div>
				</div>

				<div class="group relative flex-1 lg:hover:flex-[3] transition-all duration-700 ease-[cubic-bezier(0.25,1,0.5,1)] overflow-hidden rounded-[2rem] cursor-pointer shadow-lg bg-charbon">
					<img src="/main_dans_la_main.png" class="absolute inset-0 w-full h-full object-contain opacity-10 group-hover:opacity-30 transition-all duration-700 p-12 scale-110 group-hover:scale-100" alt="Num√©rique"/>
					<div class="absolute inset-0 bg-gradient-to-t from-charbon via-transparent to-transparent"></div>
					
					<div class="absolute inset-0 p-8 flex flex-col justify-between items-center lg:items-start text-sable relative z-10">
						<div class="w-12 h-12 rounded-full border border-white/20 flex items-center justify-center text-xl mb-4 bg-white/5 backdrop-blur-sm">üíª</div>
						
						<div class="text-center lg:text-left w-full">
							<h4 class="font-serif text-2xl lg:text-3xl mb-4 whitespace-nowrap transform lg:origin-bottom-left lg:-rotate-90 lg:group-hover:rotate-0 transition-all duration-500">Num√©rique</h4>
							
							<div class="h-0 opacity-0 group-hover:h-auto group-hover:opacity-100 overflow-hidden transition-all duration-700 delay-100">
								<p class="font-sans text-sm leading-relaxed mb-6 max-w-sm text-sable/80">
									Rester connect√© avec la famille : configuration tablette/t√©l√©phone, aide aux appels visio, envoi de photos aux petits-enfants.
								</p>
								<button class="select-service-btn text-xs font-bold uppercase tracking-widest border-b border-or pb-1 hover:text-or transition-colors" data-service="Aide Num√©rique">
									S√©lectionner ce besoin
								</button>
							</div>
						</div>
					</div>
				</div>

			</div>

		</div>
	</section>

	<section class="bg-white py-24 px-6 md:px-12 border-t border-charbon/5">
		<div class="max-w-4xl mx-auto">
			<div class="text-center mb-12">
				<span class="text-or text-xs font-sans tracking-[0.2em] uppercase mb-4 block">Tarification</span>
				<h3 class="font-serif text-4xl text-charbon mb-8">Formules adapt√©es</h3>
				
				<div class="inline-flex bg-sable rounded-full p-1 border border-charbon/10">
					<button id="btn-ponctuel" class="px-8 py-3 rounded-full text-sm font-bold uppercase tracking-wide transition-all duration-300 bg-charbon text-white shadow-md">√Ä la Carte</button>
					<button id="btn-abonnement" class="px-8 py-3 rounded-full text-sm font-bold uppercase tracking-wide transition-all duration-300 text-charbon/60 hover:text-charbon">Abonnements</button>
				</div>
			</div>

			<div class="relative min-h-[400px]">
				
				<div id="content-ponctuel" class="transition-all duration-500 opacity-100 translate-y-0 absolute inset-0">
					<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
						<div class="plan-card bg-sable p-8 rounded-[2rem] border border-transparent hover:border-or cursor-pointer transition-all hover:-translate-y-1" data-plan="Visite Courtoisie (1h)">
							<div class="flex justify-between items-center mb-4">
								<h4 class="font-bold text-charbon">Visite de Courtoisie</h4>
								<span class="text-2xl font-serif text-or">35‚Ç¨</span>
							</div>
							<p class="text-xs text-charbon/60 mb-4">1 heure de pr√©sence ‚Ä¢ Discussion, lecture, promenade</p>
							<div class="w-full h-[1px] bg-charbon/10 mb-4"></div>
							<p class="text-[10px] uppercase tracking-widest text-charbon/40">Cr√©dit d'imp√¥t 50% possible</p>
						</div>

						<div class="plan-card bg-sable p-8 rounded-[2rem] border border-transparent hover:border-or cursor-pointer transition-all hover:-translate-y-1" data-plan="Aide Administrative (1h)">
							<div class="flex justify-between items-center mb-4">
								<h4 class="font-bold text-charbon">Aide Administrative</h4>
								<span class="text-2xl font-serif text-or">45‚Ç¨</span>
							</div>
							<p class="text-xs text-charbon/60 mb-4">1 heure de gestion ‚Ä¢ Papiers, rdv, num√©rique</p>
							<div class="w-full h-[1px] bg-charbon/10 mb-4"></div>
							<p class="text-[10px] uppercase tracking-widest text-charbon/40">Cr√©dit d'imp√¥t 50% possible</p>
						</div>
					</div>
				</div>

				<div id="content-abonnement" class="transition-all duration-500 opacity-0 translate-y-10 absolute inset-0 pointer-events-none">
					<div class="bg-charbon text-sable p-10 rounded-[2rem] shadow-2xl relative overflow-hidden cursor-pointer plan-card border border-or/20 hover:border-or" data-plan="Pack Semaine Sereine">
						<div class="absolute top-0 right-0 bg-or text-charbon text-[10px] font-bold px-4 py-2 rounded-bl-std">BEST SELLER</div>
						<div class="flex flex-col md:flex-row justify-between items-center gap-8 relative z-10">
							<div>
								<h4 class="font-serif text-3xl mb-2">Pack "Semaine Sereine"</h4>
								<p class="text-sable/60 text-sm">L'esprit tranquille pour la famille et le b√©n√©ficiaire.</p>
							</div>
							<div class="text-center md:text-right">
								<p class="text-5xl font-serif text-or mb-1">150‚Ç¨<span class="text-sm text-sable/40">/semaine</span></p>
								<p class="text-[10px] uppercase tracking-widest text-sable/40">Soit 75‚Ç¨ apr√®s cr√©dit d'imp√¥t</p>
							</div>
						</div>
						<div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-8 pt-8 border-t border-white/10">
							<div class="flex items-center"><span class="text-or mr-2">‚úì</span> 3 visites de 1h / semaine</div>
							<div class="flex items-center"><span class="text-or mr-2">‚úì</span> Compte-rendu famille</div>
							<div class="flex items-center"><span class="text-or mr-2">‚úì</span> Astreinte t√©l√©phonique</div>
						</div>
					</div>
				</div>

			</div>
		</div>
	</section>

	<section id="contact" class="bg-sable text-charbon py-24 px-6 md:px-12 border-t border-charbon/5 scroll-mt-20">
		<div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-16">
			
			<div>
				<span class="text-or text-xs font-sans tracking-[0.2em] uppercase mb-4 block">Prendre Rendez-vous</span>
				<h3 class="font-serif text-3xl md:text-4xl mb-6">Une √©coute attentive</h3>
				<p class="font-sans text-charbon/70 mb-8 leading-relaxed">
					D√©finissons ensemble le rythme et les besoins pour accompagner au mieux vos proches. Premier RDV gratuit √† domicile.
				</p>
				
				<div class="space-y-8 mt-12">
					<div class="flex items-start gap-6">
						<div class="w-12 h-12 rounded-full bg-white border border-or/20 flex items-center justify-center text-or shrink-0">‚úâÔ∏è</div>
						<div>
							<p class="text-xs uppercase tracking-widest text-charbon/40 mb-1">Email</p>
							<a href="mailto:bonjour@maisondesables.fr" class="font-serif text-xl text-charbon hover:text-or transition-colors">bonjour@maisondesables.fr</a>
						</div>
					</div>
					<div class="flex items-start gap-6">
						<div class="w-12 h-12 rounded-full bg-white border border-or/20 flex items-center justify-center text-or shrink-0">üìû</div>
						<div>
							<p class="text-xs uppercase tracking-widest text-charbon/40 mb-1">T√©l√©phone</p>
							<a href="tel:+33556000000" class="font-serif text-xl text-charbon hover:text-or transition-colors">+33 5 56 00 00 00</a>
						</div>
					</div>
				</div>
			</div>

			<form class="space-y-6 bg-white p-10 rounded-[2rem] shadow-lg border border-charbon/5">
				<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
					<div class="group">
						<label class="text-xs uppercase tracking-widest text-charbon/40 mb-2 block group-focus-within:text-or">Nom</label>
						<input type="text" class="w-full bg-sable/30 border-b border-charbon/10 p-3 text-charbon outline-none focus:border-or transition-all" required/>
					</div>
					<div class="group">
						<label class="text-xs uppercase tracking-widest text-charbon/40 mb-2 block group-focus-within:text-or">T√©l√©phone</label>
						<input type="tel" class="w-full bg-sable/30 border-b border-charbon/10 p-3 text-charbon outline-none focus:border-or transition-all" required/>
					</div>
				</div>
				
				<div class="group">
					<label class="text-xs uppercase tracking-widest text-charbon/40 mb-2 block group-focus-within:text-or">Email</label>
					<input type="email" class="w-full bg-sable/30 border-b border-charbon/10 p-3 text-charbon outline-none focus:border-or transition-all" required/>
				</div>

				<div class="group">
					<label class="text-xs uppercase tracking-widest text-charbon/40 mb-2 block group-focus-within:text-or">Int√©r√™t pour</label>
					<input type="text" id="input-interest" class="w-full bg-or/10 border-b border-or p-3 text-charbon font-bold outline-none" placeholder="S√©lectionnez un service ou tarif..." />
				</div>

				<div class="group">
					<label class="text-xs uppercase tracking-widest text-charbon/40 mb-2 block group-focus-within:text-or">Expliquer votre projet</label>
					<textarea rows="3" class="w-full bg-sable/30 border-b border-charbon/10 p-3 text-charbon outline-none focus:border-or transition-all resize-none"></textarea>
				</div>

				<button class="w-full bg-charbon text-sable py-4 rounded-std font-bold uppercase tracking-widest hover:bg-or hover:text-white transition-colors shadow-lg hover:shadow-or/30">
					Nous contacter
				</button>
			</form>

		</div>
	</section>

	<footer class="bg-charbon text-sable py-12 text-center border-t border-white/10">
		<p class="font-serif text-2xl mb-4">Maison des Sables</p>
	</footer>
</Layout>

<style>
	.animate-fade-in-up { animation: fadeInUp 1s ease-out forwards; opacity: 0; transform: translateY(20px); }
	.animate-slow-zoom { animation: zoom 20s infinite alternate; }
	.delay-100 { animation-delay: 0.1s; }
	.delay-200 { animation-delay: 0.2s; }
	.delay-300 { animation-delay: 0.3s; }
	@keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }
	@keyframes zoom { from { transform: scale(1); } to { transform: scale(1.1); } }
</style>

<script>
	['astro:page-load', 'load'].forEach(event => {
		window.addEventListener(event, () => {
			
			// 1. LOGIQUE SWITCHER TARIFS
			const btnPonctuel = document.getElementById('btn-ponctuel');
			const btnAbonnement = document.getElementById('btn-abonnement');
			const contentPonctuel = document.getElementById('content-ponctuel');
			const contentAbonnement = document.getElementById('content-abonnement');

			if(btnPonctuel && btnAbonnement && contentPonctuel && contentAbonnement) {
				btnPonctuel.addEventListener('click', () => {
					// Styles Boutons
					btnPonctuel.classList.add('bg-charbon', 'text-white');
					btnPonctuel.classList.remove('text-charbon/60');
					btnAbonnement.classList.remove('bg-charbon', 'text-white');
					btnAbonnement.classList.add('text-charbon/60');

					// Contenu
					contentPonctuel.classList.remove('opacity-0', 'translate-y-10', 'pointer-events-none');
					contentAbonnement.classList.add('opacity-0', 'translate-y-10', 'pointer-events-none');
				});

				btnAbonnement.addEventListener('click', () => {
					// Styles Boutons
					btnAbonnement.classList.add('bg-charbon', 'text-white');
					btnAbonnement.classList.remove('text-charbon/60');
					btnPonctuel.classList.remove('bg-charbon', 'text-white');
					btnPonctuel.classList.add('text-charbon/60');

					// Contenu
					contentAbonnement.classList.remove('opacity-0', 'translate-y-10', 'pointer-events-none');
					contentPonctuel.classList.add('opacity-0', 'translate-y-10', 'pointer-events-none');
				});
			}

			// 2. REMPLISSAGE FORMULAIRE AUTOMATIQUE
			const inputInterest = document.getElementById('input-interest') as HTMLInputElement;
			const contactSection = document.getElementById('contact');

			// Pour les boutons de services (Galerie)
			document.querySelectorAll('.select-service-btn').forEach(btn => {
				btn.addEventListener('click', (e) => {
					e.stopPropagation(); // √âvite de d√©clencher le clic de la carte parente
					// @ts-ignore
					const service = btn.dataset.service;
					fillForm(`Service : ${service}`);
				});
			});

			// Pour les cartes de prix
			document.querySelectorAll('.plan-card').forEach(card => {
				card.addEventListener('click', () => {
					// @ts-ignore
					const plan = card.dataset.plan;
					fillForm(`Formule : ${plan}`);
				});
			});

			function fillForm(text) {
				if(inputInterest) {
					inputInterest.value = text;
					inputInterest.parentElement.classList.add('animate-pulse');
					setTimeout(() => inputInterest.parentElement.classList.remove('animate-pulse'), 1000);
				}
				if(contactSection) contactSection.scrollIntoView({ behavior: 'smooth' });
			}

		});
	});
</script>